[
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "authorService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "contentTemplatesService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "globalStoreService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "hydrateService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "metaTemplatesService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "storyTemplateService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "searchFiltersService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "searchService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "settingsService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "siteService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "storyService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "thirdPartyIntegrationService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "toolboxService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "usersService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "padlockService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "planningStoreService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "revisionHistoryService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "storeService"
  },
  {
    "module": "ellipsis.services",
    "type": "service",
    "name": "publishService"
  },
  {
    "module": "ellipsis.users",
    "type": "directive",
    "name": "users",
    "definition": {
      "restrict": "AE",
      "template": "<div class=\"container users\">\n  <h1 class=\"page-header\">User Roles and Permissions <small>Control how users work with Ellipsis.<\/small><\/h1>\n\n  <div role=\"tabpanel\" class=\"tab-pane\">\n\n    <div class=\"row\" ng-show=\"hasInitError\" >\n      <div class=\"col-md-12\">\n        <div class=\"panel panel-danger\">\n          <div class=\"card-header\">Error! <small>Problem loading settings<\/small> <\/div>\n          <div class=\"card-block\">\n            <p>There was an issue loading the data for this configuration screen.<\/p>\n            <p> If this is your first time setting up the application, load the defaults.<\/p>\n            <button class=\"btn btn-danger\" ng-click=\"firstTimeSetUp()\">Load Default Settings<\/button>\n          <\/div>\n        <\/div>\n      <\/div>\n    <\/div>\n\n\n    <div class=\"row\">\n\n      <div class=\"col-md-12\">\n        <div class=\"card\">\n          <div class=\"card-header\"><button class=\"btn btn-default pull-right\"  data-toggle=\"modal\" data-target=\"#newRoleModal\">Add Role<\/button><h4>Roles<\/h4><\/div>\n          <div class=\"card-block\">\n            <form>\n              <table class=\"table table-hover table-striped text-center\">\n                <thead>\n                  <tr>\n                    <th class=\"text-center\">Role Name<\/th>\n                    <th class=\"text-center\">Settings<\/th>\n                    <th class=\"text-center\">Publish<\/th>\n                    <th class=\"text-center\">Unpublish<\/th>\n                    <th class=\"text-center\">Create Story<\/th>\n                    <th class=\"text-center\">Edit Story<\/th>\n                    <th class=\"text-center\">Delete Story<\/th>\n                    <th class=\"text-center\">View Story<\/th>\n                    <th class=\"text-center\">Force Relinquish<\/th>\n                  <\/tr>\n                <\/thead>\n                <tbody>\n                  <tr ng-repeat=\"role in roles.list\">\n                    <th class=\"text-center\">{{role.roleName}}<\/th>\n                    <td><input type=\"checkbox\" ng-model=\"role.settings\" ng-change=\"saveState('roles')\"\/><\/td>\n                    <td><input type=\"checkbox\" ng-model=\"role.publish\" ng-change=\"saveState('roles')\" \/><\/td>\n                    <td><input type=\"checkbox\" ng-model=\"role.unpublish\" ng-change=\"saveState('roles')\" \/><\/td>\n                    <td><input type=\"checkbox\" ng-model=\"role.createStory\" ng-change=\"saveState('roles')\" \/><\/td>\n                    <td><input type=\"checkbox\" ng-model=\"role.editStory\" ng-change=\"saveState('roles')\" \/><\/td>\n                    <td><input type=\"checkbox\" ng-model=\"role.deleteStory\" ng-change=\"saveState('roles')\" \/><\/td>\n                    <td><input type=\"checkbox\" ng-model=\"role.viewStory\" ng-change=\"saveState('roles')\" \/><\/td>\n                    <td><input type=\"checkbox\" ng-model=\"role.forceRelinquish\" ng-change=\"saveState('roles')\" \/><\/td>\n                  <\/tr>\n                <\/tbody>\n              <\/table>\n            <\/form>\n          <\/div>\n        <\/div>\n      <\/div>\n\n    <\/div>\n\n    <div class=\"row\">\n\n      <div class=\"col-md-12\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h4>Unassigned Users<\/h4>\n          <\/div>\n          <div class=\"card-block\">\n            <p>Users that are not in the list below should have the following default access role.<\/p>\n            <form class=\"form-inline\">\n              <select class=\"form-control\" ng-model=\"users.defaultRole.roleName\" ng-change=\"saveState('users')\">\n                <option ng-repeat=\"option in roles.list\" value=\"{{option.roleName}}\" ng-selected=\"option.roleName==users.defaultRole.roleName\">{{option.roleName}}<\/option>\n              <\/select>\n            <\/form>\n          <\/div>\n        <\/div>\n      <\/div>\n    <\/div>\n\n    <div class=\"row\">\n\n      <div class=\"col-md-12\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <form class=\"form-inline pull-right\">\n                  <button class=\"btn btn-default pull-right\" data-toggle=\"modal\" data-target=\"#newOktaModal\">Add<\/button>\n              <div class=\"input-group\">\n                <!--<label class=\"input-group-addon\" for=\"oktaSearch\"><span class=\"glyphicon glyphicon-search\" aria-hidden=\"true\"><\/span><\/label>-->\n                  <input type=\"search\" id=\"oktaSearch\" class=\"form-control\" placeholder=\"Search OKTA\" ng-keyup=\"filterTable($event)\" ng-model=\"okta_search\">\n              <\/div>\n                  <\/form>\n            <h4>OKTA Group to Role<\/h4>\n          <\/div>\n          <div class=\"card-block\">\n            <p>You have the option to map any OKTA group to a role. Select an OKTA Group and assign it a role.<\/p>\n            <form class=\"form-inline\">\n              <table class=\"table table-hover table-striped text-center\">\n                <thead>\n                  <tr>\n                    <th class=\"text-center\">OKTA Group<\/th>\n                    <th class=\"text-center\">Assigned Role<\/th>\n                    <th class=\"text-center\">Action<\/th>\n                  <\/tr>\n                <\/thead>\n                <tbody id=\"okta-tbody\">\n                  <tr ng-repeat=\"(key, value) in oktaMappings.mappings\" data-search=\"{{key | uppercase}} {{value.role | uppercase}}\">\n                    <td>{{key}}<\/td>\n                    <td>{{value.role}}<\/td>\n                    <td>\n                      <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\n                        <button type=\"button\" class=\"btn btn-primary btn-sm\" title=\"Edit Mapping\" data-toggle=\"modal\" data-target=\"#editOktaModal\" data-okta-id=\"{{key}}\">\n                          <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"><\/span>Edit\n                        <\/button>\n                          <button type=\"button\" class=\"btn btn-danger btn-sm\" title=\"Delete Mapping\" data-toggle=\"modal\" data-target=\"#deleteOktaModal\" data-okta-id=\"{{key}}\">\n                            <span class=\"glyphicon glyphicon-remove-sign\" aria-hidden=\"true\"><\/span>Delete\n                          <\/button>\n                        <\/div>\n                    <\/td>\n                  <\/tr>\n                <\/tbody>\n              <\/table>\n            <\/form>\n          <\/div>\n        <\/div>\n      <\/div>\n    <\/div>\n\n    <div class=\"row\">\n\n      <div class=\"col-md-12\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n                <form class=\"form-inline pull-right\">\n                  <button class=\"btn btn-default pull-right\" data-toggle=\"modal\" data-target=\"#newUserModal\">Add User<\/button>\n              <div class=\"input-group\">\n                <!--<label class=\"input-group-addon\" for=\"user_search\"><span class=\"glyphicon glyphicon-search\" aria-hidden=\"true\"><\/span><\/label>-->\n                  <input type=\"search\" id=\"user_search\" class=\"form-control\" placeholder=\"Search User\" ng-keyup=\"filterTable($event)\" ng-model=\"user_search\">\n              <\/div>\n                  <\/form>\n            <h4>Users<\/h4><\/div>\n          <div class=\"card-block\">\n            <form>\n              <table class=\"table table-hover table-striped text-center\">\n                <thead>\n                  <tr>\n                    <th class=\"text-center\">User<\/th>\n                    <th class=\"text-center\">Full Name<\/th>\n                    <th class=\"text-center\">Assigned Role<\/th>\n                    <th class=\"text-center\">Actions<\/th>\n                  <\/tr>\n                <\/thead>\n                <tbody id=\"users-tbody\">\n                  <tr ng-repeat=\"(key, value) in users.accounts\" data-search=\"{{key | uppercase}} {{value.name | uppercase}} {{value.role | uppercase}}\">\n                    <td>{{key}}<\/td>\n                    <td>{{value.name}}<\/td>\n                    <td>{{value.role}}<\/td>\n                    <td>\n                      <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\n                        <button type=\"button\" class=\"btn btn-primary btn-sm\" title=\"Edit user\" data-toggle=\"modal\" data-target=\"#editUserModal\" data-user-id=\"{{key}}\">\n                          <span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"><\/span>Edit\n                        <\/button>\n                          <button type=\"button\" class=\"btn btn-danger btn-sm\" title=\"Delete user\" data-toggle=\"modal\" data-target=\"#deleteUserModal\" data-user-id=\"{{key}}\">\n                            <span class=\"glyphicon glyphicon-remove-sign\" aria-hidden=\"true\"><\/span>Delete\n                          <\/button>\n                        <\/div>\n                    <\/td>\n                  <\/tr>\n                <\/tbody>\n              <\/table>\n            <\/form>\n          <\/div>\n        <\/div>\n      <\/div>\n    <\/div>\n\n\n\n    <div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" id=\"newRoleModal\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;<\/span><\/button>\n            <h4 class=\"modal-title\">Add New Role<\/h4>\n          <\/div>\n          <div class=\"modal-body\">\n            <p class=\"lead\">Add a new Role to Ellipsis<\/p>\n            <form id=\"newRoleForm\">\n\n          <div class=\"alert alert-danger\" role=\"alert\" ng-show=\"roleExists\">\n              <span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"><\/span>\n            <span class=\"sr-only\">Error:<\/span>Role Already Exists\n          <\/div>\n\n              <div class=\"form-group\">\n              <label for=\"newUserRoleName\">Role Name<\/label>\n            <input type=\"text\" class=\"form-control\" ng-model=\"newRoleName\" id=\"newUserRoleName\" placeholder=\"Role Name\" required>\n            <\/div>\n            <\/form>\n          <\/div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close<\/button>\n            <button type=\"button\" class=\"btn btn-primary\" ng-click=\"addNewRole()\">Add New Role<\/button>\n          <\/div>\n        <\/div><!-- \/.modal-content -->\n      <\/div><!-- \/.modal-dialog -->\n    <\/div><!-- \/.modal -->\n\n\n\n    <div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" id=\"newUserModal\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;<\/span><\/button>\n            <h4 class=\"modal-title\">Add New User<\/h4>\n          <\/div>\n          <div class=\"modal-body\">\n            <p class=\"lead\">Add a new user to Ellipsis<\/p>\n            <form id=\"newUserForm\">\n\n          <div class=\"alert alert-danger\" role=\"alert\" ng-show=\"userExists\">\n              <span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"><\/span>\n            <span class=\"sr-only\">Error:<\/span>User Already Exists\n          <\/div>\n\n              <div class=\"form-group\">\n              <label for=\"newUserEmail\">Email address<\/label>\n            <input type=\"email\" class=\"form-control\" ng-model=\"newUser.email\" id=\"newUserEmail\" placeholder=\"Email\" required>\n            <\/div>\n              <div class=\"form-group\">\n              <label for=\"newUserFullName\">Full Name<\/label>\n            <input type=\"text\" class=\"form-control\" ng-model=\"newUser.name\" id=\"newUserFullName\" placeholder=\"Full Name\" required>\n            <\/div>\n              <div class=\"form-group\">\n              <label for=\"newUserRole\">Role<\/label>\n            <select class=\"form-control\" ng-model=\"newUser.roleName\">\n              <option ng-repeat=\"option in roles.list\" ng-value=\"option.roleName\" ng-selected=\"option.roleName==users.defaultRole.roleName\" required>{{option.roleName}}<\/option>\n            <\/select>\n            <\/div>\n\n            <\/form>\n          <\/div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close<\/button>\n            <button type=\"button\" class=\"btn btn-primary\" ng-click=\"addNewUser()\">Add User<\/button>\n          <\/div>\n        <\/div><!-- \/.modal-content -->\n      <\/div><!-- \/.modal-dialog -->\n    <\/div><!-- \/.modal -->\n\n\n\n    <div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" id=\"editUserModal\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;<\/span><\/button>\n            <h4 class=\"modal-title\">Edit User<\/h4>\n          <\/div>\n          <div class=\"modal-body\">\n            <p class=\"lead\">{{editUser.email}}<\/p>\n            <form id=\"editUserForm\">\n\n              <div class=\"form-group\">\n              <label for=\"editUserFullName\">Full Name<\/label>\n            <input type=\"text\" class=\"form-control\" ng-model=\"editUser.details.name\" id=\"editUserFullName\" placeholder=\"Full Name\" required>\n            <\/div>\n\n              <div class=\"form-group\">\n              <label for=\"editUserRole\">Role<\/label>\n            <select class=\"form-control\" ng-model=\"editUser.details.role\" id=\"editUserRole\">\n              <option ng-repeat=\"option in roles.list\" ng-value=\"option.roleName\" ng-selected=\"option.roleName==editUser.details.role\" required>{{option.roleName}}<\/option>\n            <\/select>\n            <\/div>\n\n            <\/form>\n          <\/div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close<\/button>\n            <button type=\"button\" class=\"btn btn-primary\" ng-click=\"saveUser()\">Save User<\/button>\n          <\/div>\n        <\/div><!-- \/.modal-content -->\n      <\/div><!-- \/.modal-dialog -->\n    <\/div><!-- \/.modal -->\n\n\n    <div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" id=\"deleteUserModal\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;<\/span><\/button>\n            <h4 class=\"modal-title\">Delete User<\/h4>\n          <\/div>\n          <div class=\"modal-body\">\n            <p class=\"lead\">Do you want to delete {{deleteUser.details.name}} <small>({{deleteUser.email}})<\/small> from the permissions table?<\/p>\n            <form id=\"deleteUserForm\">\n\n          <div class=\"alert alert-danger\" role=\"alert\">\n              <span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"><\/span>\n            You can not revert this change once you delete the user. You may want to use\n             a role with no privileges instead of deletion.\n          <\/div>\n\n\n            <\/form>\n          <\/div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close<\/button>\n            <button type=\"button\" class=\"btn btn-danger\" ng-click=\"deleteSelectedUser()\">Delete User<\/button>\n          <\/div>\n        <\/div><!-- \/.modal-content -->\n      <\/div><!-- \/.modal-dialog -->\n    <\/div><!-- \/.modal -->\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  <div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" id=\"newOktaModal\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;<\/span><\/button>\n            <h4 class=\"modal-title\">Add New OKTA Mapping<\/h4>\n          <\/div>\n          <div class=\"modal-body\">\n            <p class=\"lead\">Add a new OKTA Mapping to Ellipsis<\/p>\n            <form id=\"newOktaForm\">\n\n          <div class=\"alert alert-danger\" role=\"alert\" ng-show=\"oktaExists\">\n              <span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"><\/span>\n            <span class=\"sr-only\">Error:<\/span>Mapping Already Exists\n          <\/div>\n\n              <div class=\"form-group\">\n              <label for=\"newOktaName\">OKTA Group Name<\/label>\n            <input type=\"text\" class=\"form-control\" ng-model=\"newOkta.name\" id=\"newOktaRoleName\" placeholder=\"OKTA Group Name\" required>\n            <\/div>\n\n              <div class=\"form-group\">\n              <label for=\"newOktaRole\">Role<\/label>\n            <select class=\"form-control\" ng-model=\"newOkta.roleName\" id=\"editOktaRole\">\n              <option ng-repeat=\"option in roles.list\" ng-value=\"option.roleName\" ng-selected=\"option.roleName==users.defaultRole.roleName\" required>{{option.roleName}}<\/option>\n            <\/select>\n            <\/div>\n\n            <\/form>\n          <\/div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close<\/button>\n            <button type=\"button\" class=\"btn btn-primary\" ng-click=\"addNewMapping()\">Add New Mapping<\/button>\n          <\/div>\n        <\/div><!-- \/.modal-content -->\n      <\/div><!-- \/.modal-dialog -->\n    <\/div><!-- \/.modal -->\n\n\n    <div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" id=\"editOktaModal\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;<\/span><\/button>\n            <h4 class=\"modal-title\">Edit Okta Mapping<\/h4>\n          <\/div>\n          <div class=\"modal-body\">\n            <p class=\"lead\">{{selectedOktaMapping.key}}<\/p>\n            <form id=\"editOktaForm\">\n\n              <div class=\"form-group\">\n              <label for=\"editOktaRole\">Role<\/label>\n            <select class=\"form-control\" ng-model=\"selectedOktaMapping.details.role\" id=\"editOktaRole\">\n              <option ng-repeat=\"option in roles.list\" ng-value=\"option.roleName\" ng-selected=\"option.roleName==selectedOktaMapping.details.role\" required>{{option.roleName}}<\/option>\n            <\/select>\n            <\/div>\n\n            <\/form>\n          <\/div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close<\/button>\n            <button type=\"button\" class=\"btn btn-primary\" ng-click=\"saveSelectedOktaMapping()\">Save Mapping<\/button>\n          <\/div>\n        <\/div><!-- \/.modal-content -->\n      <\/div><!-- \/.modal-dialog -->\n    <\/div><!-- \/.modal -->\n\n\n\n\n\n\n\n\n    <div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" id=\"deleteOktaModal\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;<\/span><\/button>\n            <h4 class=\"modal-title\">Delete OKTA Mapping<\/h4>\n          <\/div>\n          <div class=\"modal-body\">\n            <p class=\"lead\">Do you want to delete {{selectedOktaMapping.key}} from the OKTA Mapping table?<\/p>\n            <form id=\"deleteRoleForm\">\n\n          <div class=\"alert alert-danger\" role=\"alert\">\n              <span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"><\/span>\n            You can not revert this change once you delete the mapping.\n          <\/div>\n\n\n            <\/form>\n          <\/div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close<\/button>\n            <button type=\"button\" class=\"btn btn-danger\" ng-click=\"deleteSelectedOktaMapping()\">Delete Mapping<\/button>\n          <\/div>\n        <\/div><!-- \/.modal-content -->\n      <\/div><!-- \/.modal-dialog -->\n    <\/div><!-- \/.modal -->\n\n  <\/div>\n\n<\/div>\n",
      "controller": [
        "$rootScope",
        "$scope",
        "usersService",
        null
      ]
    }
  },
  {
    "module": "ellipsis.settings",
    "type": "directive",
    "name": "settings",
    "definition": {
      "restrict": "AE",
      "replace": false,
      "template": "<div class=\"container settings\">\n  <h1 class=\"page-header\">Ellipsis Settings <small>Control how Ellipsis works under the hood.<\/small><\/h1>\n\n  <div class=\"loading alert alert-info\" ng-show=\"status=='loading'\">Loading Settings<\/div>\n  <div class=\"loading alert alert-info\" ng-show=\"status=='error'\">Error Loading Settings<\/div>\n\n  <div class=\"\" ng-show=\"status=='firstTime'\">\n    <h2> Welcome to the settings page.<\/h2>\n    <p>It appears this is the first time you have visited the settings page. On this page you will \n    be able to configure Ellipsis to your company's likings. If your site has already started the\n    configuration, than please report a problem.<\/p>\n\n    <button class=\"btn btn-primary\" ng-click=\"configureFirst()\">Start Configuration<\/button>\n  <\/div>\n\n\n\n\n  <div role=\"tabpanel\" class=\"tab-pane\"  ng-show=\"status=='loaded'\">\n\n    <div class=\"row\">\n      <div class=\"col-md-12\">\n        <button class=\"btn btn-primary\" ng-click=\"save()\"> Save <\/button>\n      <\/div>\n    <\/div>\n\n    <div class=\"row\">\n\n      <div class=\"col-md-6\">\n        <div class=\"card\">\n          <h2 class=\"card-header\">Page Builder<\/h2>\n          <div class=\"card-block\">\n            <div class=\"card-text\">\n              <form>\n                <div class=\"form-group\">\n                  <label for=\"page_builder_url\">Page Builder Preview URL <span class=\"fa fa-question-circle\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"The Preview URL for the Page Builder Instance.\"><\/span><\/label>\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Page Builder URL\" id=\"page_builder_url\" ng-model=\"companySettings.pageBuilderPrvURL\">\n                <\/div>\n              <\/form>\n            <\/div>\n          <\/div>\n        <\/div>\n      <\/div>\n\n      <div class=\"col-md-3\" style=\"display:none\">\n        <div class=\"card\">\n          <h2 class=\"card-header\">Lock Settings<\/h2>\n          <div class=\"card-block\">\n            <div class=\"card-text\">\n              <form>\n                <div class=\"form-group\">\n                  <label for=\"max_idle_time\">Max Idle Time <small>(minutes)<\/small> <span class=\"fa fa-question-circle\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"The length of time the user can have a story locked with no activity.\"><\/span><\/label>\n                  <input type=\"text\" class=\"form-control\" placeholder=\"30\" id=\"max_idle_time\" ng-model=\"companySettings.maxIdleTime\">\n                <\/div>\n              <\/form>\n            <\/div>\n          <\/div>\n        <\/div>\n      <\/div>\n\n      <div class=\"col-md-3\" style=\"display:none\">\n        <div class=\"card\">\n          <h2 class=\"card-header\">Language<\/h2>\n          <div class=\"card-block\">\n            <div class=\"card-text\">\n              <form>\n                <div class=\"form-group\">\n                  <label for=\"site_lang\">Language for Site <span class=\"fa fa-question-circle\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"What is the language you want the editor to be displayed in?\"><\/span><\/label>\n                  <select class=\"form-control\" id=\"site_lang\" ng-model=\"companySettings.site_lang\">\n                    <option value=\"en\">English<\/option>\n                    <option value=\"es\">Spanish<\/option>\n                  <\/select>\n                <\/div>\n              <\/form>\n            <\/div>\n          <\/div>\n        <\/div>\n      <\/div>\n\n\n\n    <\/div>\n\n    <div class=\"row\">\n\n      <div class=\"col-md-6\"  style=\"display:none\">\n        <div class=\"card\">\n          <h2 class=\"card-header\">\n            <form class=\"form-inline pull-right\">\n              <button class=\"btn btn-default pull-right\" data-toggle=\"modal\" data-target=\"#newOktaModal\">Add<\/button>\n            <\/form>\n            ANS Defaults\n          <\/h2>\n          <div class=\"card-block\">\n            <div class=\"card-text\">\n              <form>\n                <p class=\"help-block\">Set these ANS Defaults when a new story is created.<\/p>\n                <ul class=\"list-group\">\n                  <li class=\"list-group-item\" ng-repeat=\"option in ans_overrides\">\n                    <div class=\"action-buttons\">\n                      <div class=\"btn-group pull-right\">\n                        <a href=\"{{this.canonical_url}}\" class=\"glyphicon glyphicon-new-window disabled\" title=\"{{phrases.preview}}\"><\/a>\n                        <a class=\" glyphicon glyphicon-trash removeRelatedItem\" data-id=\"{{this._id}}\" title=\"{{phrases.remove_related_item}}\"><\/a>\n                      <\/div>\n                      <span class=\"path\">{{option.path}}<\/span> - <span>{{option.value}}<\/span>\n                    <\/div>\n                  <\/li>\n                <\/ul>\n              <\/form>\n            <\/div>\n          <\/div>\n        <\/div>\n      <\/div>\n\n    <\/div>\n\n    <div class=\"row\">\n\n      <div class=\"col-md-4\">\n        <div class=\"card\">\n          <h2 class=\"card-header\">Planning Options<\/h2>\n          <div class=\"card-block\">\n            <div class=\"card-text\">\n              <form>\n                <p class=\"help-block\">Enable the sections that you want to show up\n                on the Planning tab by checking their corresponding checkbox.<\/p>\n                <ul class=\"list-group\" data-defaults=\"planning_options\">\n                  <li class=\"list-group-item\" ng-repeat=\"option in planning_options\">\n                    <span class=\"pull-right\"><input type=\"checkbox\" ng-model=\"option.selected\" \/><\/span>\n                    {{ option.property.text }}\n                  <\/li>\n                <\/ul>\n              <\/form>\n            <\/div>\n          <\/div>\n        <\/div>\n      <\/div>\n\n      <div class=\"col-md-4\">\n        <div class=\"card\">\n          <h2 class=\"card-header\">Toolbox Features<\/h2>\n          <div class=\"card-block\">\n            <div class=\"card-text\">\n              <form>\n                <p class=\"help-block\">Enable the features that you want to show up\n                on the Toolbox by checking their corresponding checkbox. You\n                can also adjust the order of the features by dragging and dropping\n                the options in the list.<\/p>\n                <ul class=\"list-group\" ng-model=\"toolbox_options\" sortable>\n                  <li class=\"list-group-item\" ng-repeat=\"option in toolbox_options\">\n                    <span class=\"pull-right\"><input type=\"checkbox\" ng-model=\"option.selected\" \/><\/span> \n                    {{ option.property.text }}\n                  <\/li>\n                <\/ul>\n              <\/form>\n            <\/div>\n          <\/div>\n        <\/div>\n      <\/div>\n\n\n      <div class=\"col-md-4\">\n        <div class=\"card\">\n          <h2 class=\"card-header\">Meta Data Fields<\/h2>\n          <div class=\"card-block\">\n            <div class=\"card-text\">\n              <form>\n                <p class=\"help-block\">Enable the form fields that you want to show up\n                on the Meta Tab by checking their corresponding checkbox. You\n                can also adjust the order of the form elements by dragging and dropping\n                the options in the list.<\/p>\n                <ul class=\"list-group\" ng-model=\"meta_options\" sortable>\n                  <li class=\"list-group-item\" ng-repeat=\"option in meta_options\">\n                    <span class=\"pull-right\"><input type=\"checkbox\" ng-model=\"option.selected\" \/><\/span>\n                    {{ option.property.text }}\n                  <\/li>\n                <\/ul>\n              <\/form>\n            <\/div>\n          <\/div>\n        <\/div>\n      <\/div>\n\n    <\/div>\n  <\/div>\n<\/div>\n\n\n<style>\n.settings, .settings .row {\n  padding-top: 2rem;\n}\n\n.settings .card-header {\n  background-color: #DDD;\n}\n\n\n.settings .card-block {\n  padding: 2rem;\n}\n<\/style>\n\n\n",
      "controller": [
        "$http",
        "$scope",
        "$interval",
        "settingsService",
        "toastr",
        null
      ]
    }
  },
  {
    "module": "ellipsis.story",
    "type": "directive",
    "name": "story",
    "definition": {
      "restrict": "AE",
      "replace": false,
      "template": "<!-- Content -->\n<div class=\"row justify-content-right\">\n\n  <!-- Main Content -->\n  <div class=\"col mt-2 container\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col width-max-2\">\n        <tab-bar active-tab=\"activeTab\" switch-tab=\"switchTab(id)\"><\/tab-bar>\n        <div class=\"tab-content bg-white scroll-y px-3\">\n          <div ng-show=\"activeTab=='tab-compose'\" headline>headlines<\/div>\n          <div ng-show=\"activeTab=='tab-compose'\" story-body story-obj=\"story\">story body<\/div>\n          <div ng-show=\"activeTab=='tab-meta'\" meta-body>meta body<\/div>\n          <div ng-show=\"activeTab=='tab-promo'\" promo-body>promo body<\/div>\n          <planning-body\n            error-capturer=\"errorCapture\"\n            ng-show=\"activeTab=='tab-planning'\"\n            update-model=\"updateModel({model: model})\"\n            author-obj=\"author\"\n            story-obj=\"story\">\n          <\/planning-body>\n          <delete-modal><\/delete-modal>\n        <\/div>\n      <\/div>\n    <\/div>\n  <\/div>\n\n  <!-- Side Content -->\n  <aside class=\"col width-max-1 border-left\">\n\n    <span lock-knock lockDetails=\"lockDetails\"><\/span>\n\n    <div class=\"row border-bottom\">\n\n      <!-- Publish Fields -->\n      <div publish-actions class=\"col py-2\"><\/div>\n\n      <!-- Menu Controls -->\n      <div class=\"nav-controls\">\n        <ul class=\"nav flex-column pt-2\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link active\">\n              <i class=\"fa fa-calendar\" style=\"font-size: 1.2rem;\" aria-hidden=\"true\"><\/i>\n            <\/a>\n          <\/li>\n        <\/ul>\n      <\/div>\n    <\/div>\n    <div class=\"row\">\n      <!-- Menu Content -->\n      <div class=\"col tab-content bg-body border-0\">\n        <div ng-show=\"vertActive=='toolbox' && activeTab=='tab-compose'\" toolbox><\/div>\n        <div ng-show=\"vertActive=='revisions'\" revisions><\/div>\n        <div ng-show=\"vertActive=='websked'\" websked><\/div>\n        <related-items ng-show=\"vertActive=='related-items'\"><\/related-items>\n        <div ng-show=\"vertActive=='clipboard' && activeTab=='tab-compose'\" clipboard><\/div>\n      <\/div>\n      <!-- Menu Controls -->\n      <div class=\"nav-controls\">\n        <ul class=\"nav flex-column pt-2\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link active\" ng-click=\"vertActive='toolbox'\" ng-class=\"{active: activeTab=='toolbox', disabled: activeTab!='tab-compose'}\" title=\"add element\">\n              <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"><\/i>\n              <i class=\"sr-only\">add element<\/i>\n            <\/a>\n          <\/li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" ng-click=\"vertActive='revisions'\" ng-class=\"{active: activeTab=='revisions'}\">\n              <i class=\"fa fa-history\" aria-hidden=\"true\"><\/i>\n              <i class=\"sr-only\">history<\/i>\n            <\/a>\n          <\/li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" ng-click=\"vertActive='websked'\" ng-class=\"{active: activeTab=='websked'}\">\n              <i class=\"fa fa-inbox\" aria-hidden=\"true\"><\/i>\n              <i class=\"sr-only\">websked tasks<\/i>\n            <\/a>\n          <\/li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" ng-click=\"vertActive='related-items'\" ng-class=\"{active: activeTab=='related-items'}\">\n              <i class=\"fa fa-files-o\" aria-hidden=\"true\"><\/i>\n              <i class=\"sr-only\">related items<\/i>\n            <\/a>\n          <\/li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" ng-click=\"vertActive='clipboard'\" ng-class=\"{active: activeTab=='clipboard', disabled: activeTab!='tab-compose'}\">\n              <i class=\"fa fa-clipboard\" aria-hidden=\"true\"><\/i>\n              <i class=\"sr-only\">clipboard<\/i>\n            <\/a>\n          <\/li>\n        <\/ul>\n      <\/div>\n    <\/div>\n  <\/div>\n\n<\/div>\n\n<style>\n\n\/*TODO: ERIC - FIND A BETTER WAY!!! *\/\n\/* THIS IS BAD, STILL TRYNG TO FIGURE OUT BETTER WAY TO DISABLE EDIT *\/\n\n  body.locked .tab-content *,\n  body.locked .tab-content input,\n  body.locked .tab-content button,\n  body.locked .tab-content select,\n  body.locked .tab-content textarea,\n  body.locked .tab-content label,\n  body.locked .tab-content [contenteditable],\n  body.locked [publish-actions] button,\n  body.locked .tab-content image\n  {\n    pointer-events: none !important;\n  }\n\n  body.locked button.btn-show-headlines {\n    pointer-events: auto !important;\n  }\n\n\n  body.locked .tab-content [contenteditable][data-placeholder]::before {\n    display: none;\n  }\n\n\n  body.locked #btnSave,\n  body.locked #btnUndo,\n  body.locked #btnRedo,\n  body.locked #btnDelete {\n    display: none !important;\n  }\n\n  .removeTitle .ui-dialog-titlebar { display:none }\n  .removeTitle iframe { border: 0; }\n\n\n  ul.tag-list {\n    margin: .5rem;\n    padding:0;\n  }\n\n  ul.tag-list, ul.tag-list * {\n    display: inline-block;\n  }\n\n  ul.tag-list li {\n    padding: .3rem;\n    margin-right: .5rem;\n  }\n\n  tags-input .tags li.tag-item.selected {\n    background: #d9534f;\n  }\n\n  li.tag-item.ng-scope.notPrimary {\n    color: #428bca;\n  }\n\n\n<\/style>\n",
      "controller": "StoryController"
    }
  },
  {
    "module": "ellipsis.story",
    "type": "register",
    "name": "StoryController"
  },
  {
    "module": "ellipsis.search",
    "type": "directive",
    "name": "search",
    "definition": {
      "restrict": "AE",
      "template": "<div class=\"row\">\n  <!-- Filters -->\n  <div class=\"col width-max-1 pt-3\">\n    <search-filters\n      run-search=\"runSearch()\"\n      site-options=\"siteOptions\"\n      on-autocomplete=\"onAutocomplete({model})\"\n      config=\"filterConfig\"><\/search-filters>\n  <\/div>\n\n  <!-- Results -->\n  <div class=\"col pt-3\">\n    <div class=\"row\">\n      <!-- Search -->\n      <form class=\"col-md-6 pb-2\">\n        <div class=\"input-group\">\n          <span class=\"input-group-addon\">\n            <i class=\"fa fa-search text-primary\" aria-hidden=\"true\"><\/i>\n          <\/span>\n          <input\n            type=\"text\"\n            ng-model=\"filterConfig.searchBar.value\"\n            ng-change=\"runSearch()\"\n            class=\"form-control border-left-0 pl-0\"\n            placeholder=\"Search\" \/>\n        <\/div>\n      <\/form>\n      <div class=\"col-md-6\">\n        <button class=\"btn btn-success pull-right\" data-toggle=\"modal\" data-target=\"#template-selection\" ng-show=\"canCreateStory\">create a new story<\/button>\n      <\/div>\n    <\/div>\n    <!-- Results List -->\n    <search-results\n      load-next=\"loadNext()\"\n      status=\"{{searchStatus}}\"\n      result=\"searchResults\">\n    <\/search-results>\n    <!-- New Story Dialog -->\n    <template-selection><\/template-selection>\n  <\/div>\n<\/div>\n",
      "controller": [
        "$scope",
        "$rootScope",
        "$location",
        "searchService",
        "siteService",
        "authorService",
        "searchFiltersService",
        "$timeout",
        "$interval",
        "padlockService",
        "storeService",
        "toastr",
        null
      ]
    }
  },
  {
    "module": "ellipsis.preferences",
    "type": "directive",
    "name": "preferences",
    "definition": {
      "restrict": "AE",
      "template": "<div class=\"container\">\n  <div class=\"jumbotron text-center\">\n    <h1>User Preferences<\/h1>\n    <p>{{ message }}<\/p>\n  <\/div>\n<div class=\"container\">\n",
      "controller": [
        null
      ]
    }
  },
  {
    "module": "ellipsis.releaseNotes",
    "type": "directive",
    "name": "releaseNotes",
    "definition": {
      "restrict": "AE",
      "replace": false,
      "template": "<div class=\"container\">\n  <div class=\"jumbotron text-center\">\n    <h1>Ellipsis Release Notes<\/h1>\n  <\/div>\n\n  <div class=\"panel panel-default\">\n    <div class=\"panel-heading\"><h4>Dec 05th, 2016 - 1.6.0.69 (Everyone but Infobae)<\/h4><\/div>\n    <div class=\"panel-body\">\n      <ul>\n        <li>Fix bug search with site - will not filter properly<\/li>\n        <li>Point site search to correct filter path<\/li>\n        <li>Update Galleries so they can be selected and rendered properly<\/li>\n        <li>Remove CDN references<\/li>\n      <\/ul>\n    <\/div>\n  <\/div>\n\n  <div class=\"panel panel-default\">\n    <div class=\"panel-heading\"><h4>Nov 22nd, 2016 - 1.6.0.65 (ALL)<\/h4><\/div>\n    <div class=\"panel-body\">\n      <ul>\n        <li>Fix with sites not showing correctly on search<\/li>\n        <li>All partners got changes from 1.6.0.62<\/li>\n      <\/ul>\n    <\/div>\n  <\/div>\n\n  <div class=\"panel panel-default\">\n    <div class=\"panel-heading\"><h4>Nov 17th, 2016 - 1.6.0.62  (TGAM)<\/h4><\/div>\n    <div class=\"panel-body\">\n      <ul>\n        <li>Basic Locking, Unlocking, Knocking of stories.<\/li>\n        <li>Sites ordering fix<\/li>\n        <li>Bugs with saving story<\/li>\n        <li>Integrated with Goldfish<\/li>\n        <li>Added Override fields to video and images<\/li>\n        <li>First pass at related items<\/li>\n        <li>Added word\/inch\/line count<\/li>\n        <li>Changed All\/headline search<\/li>\n        <li>Fixed bug with doubling of stories in feed<\/li>\n        <li>More work on the groundwork for authorization with roles\/permissions<\/li>\n      <\/ul>\n    <\/div>\n  <\/div>\n\n  <div class=\"panel panel-default\">\n    <div class=\"panel-heading\"><h4>Oct 5th, 2016 - 1.6.0.59<\/h4><\/div>\n    <div class=\"panel-body\">\n      <ul>\n        <li><strong>BIG CHANGE:&nbsp;<\/strong> Search interface has new look with new search options.<\/li>\n        <li>Fixed Issue with Author autocomplete and missing Bylines<\/li>\n        <li>Fixed bug where planned date filter was not finding articles.<\/li>\n        <li>Allow for multiple sites in planning tab with one being the default site<\/li>\n        <li>Fix inch count bug where floats caused error, rounds to next inch.<\/li>\n        <li>First pass in getting authorization\/roles into the editors\n          <ul>\n            <li>Arc Admins have a delete button<\/li>\n            <li>All other roles have same settings for now<\/li>\n            <li>Future, screen to control what roles do what.<\/li>\n          <\/ul>\n        <\/li>\n        <li>Fix three drag and drop bugs in the story creation screen.<\/li>\n        <li>Fix display issue with image captions<\/li>\n        <li>Fix flaws in the isDirty check so less unnecessary saves should happen when user does not change anything.<\/li>\n        <li>Handle http status 422 better<\/li>\n        <li>Stop duplicate error messages from appearing in the notification pop ups.<\/li>\n        <li>Hooked up with a new image search interface in Anglerfish<\/li>\n      <\/ul>\n    <\/div>\n  <\/div>\n<\/div>\n",
      "controller": [
        null
      ]
    }
  },
  {
    "module": "ellipsis.contenteditable",
    "type": "directive",
    "name": "contenteditablebind",
    "definition": {
      "restrict": "A",
      "require": "?ngModel"
    }
  },
  {
    "module": "ellipsis.calendarControl",
    "type": "directive",
    "name": "calendarControl",
    "definition": {
      "restrict": "A",
      "require": "?ngModel"
    }
  },
  {
    "module": "ellipsis.codeEditor",
    "type": "directive",
    "name": "codeEditor",
    "definition": {
      "restrict": "A",
      "require": "?ngModel",
      "link": {

      }
    }
  },
  {
    "module": "ellipsis.contentElement",
    "type": "directive",
    "name": "contentElement",
    "definition": {
      "replace": false,
      "require": "?ngModel",
      "controller": [
        "$scope",
        null
      ],
      "link": {

      }
    }
  },
  {
    "module": "ellipsis.clipboard",
    "type": "directive",
    "name": "clipboard",
    "definition": {
      "restrict": "A",
      "replace": false,
      "template": "<h3>Clipboard Items<\/h3>\n\n<div ng-repeat=\"(groupKey, groupItems) in story.additional_properties.clipboard\">\n  <h4>{{groupKey}}\n    <btn class=\"pull-right\" data-toggle=\"collapse\" href=\"#collapse-{{groupKey}}\" aria-expanded=\"true\">\n    <span class=\"caret\"><\/span>\n    <\/btn>\n  <\/h4>\n  <ul class=\"form-group list-group collapse in\" id=\"collapse-{{groupKey}}\">\n    <li ng-repeat=\"item in groupItems\" class=\"list-group-item\" data-id=\"{{item._id}}\" data-type=\"{{item.type}}\" >\n      <div class=\"img\" ng-if=\"(item.type=='image' || item.type=='gallery' || item.type=='video')\">\n        <img style=\"width:200px\" ng-src=\"{{item.additional_properties.proxyUrl || item.additional_properties.coverPhoto.url || item.promo_image.url}}\" \/>\n      <\/div>\n      <p ng-if=\"!(item.type=='image' || item.type=='gallery' || item.type=='video')\">{{item.content}}<\/p>\n      <div class=\"choices clearfix\">\n        <div class=\"pull-right\">\n          <button \n            class=\"btn btn-secondary\"\n            ng-show=\"hasPreview(item.type)\">\n            <i class=\"fa fa-eye\"\n              ng-click=\"preview(item)\"\n              title=\"Preview\"><\/i>\n          <\/button>\n          <button class=\"btn btn-secondary\">\n            <i class=\"fa fa-plus-circle\" \n              data-id=\"{{item._id}}\"\n              ng-click=\"add(item)\"\n              title=\"Add Item\"><\/i>\n          <\/button>\n          <button class=\"btn btn-danger\">\n            <i class=\"fa fa-trash-o\"\n              data-id=\"{{item._id}}\" \n              ng-click=\"remove(item)\"\n              title=\"Remove Item\"><\/i>\n          <\/button>\n        <\/div>\n      <\/div>\n    <\/li>\n  <\/ul>\n\n<\/div>\n",
      "controller": [
        "$scope",
        "contentTemplatesService",
        null
      ]
    }
  },
  {
    "module": "ellipsis.metaBody",
    "type": "directive",
    "name": "metaBody",
    "definition": {
      "restrict": "A",
      "replace": false,
      "template": "<form class=\"meta-wrapper\">\n\n  <div ng-repeat=\"meta in metaElements\" meta-element ng-model=\"meta\" data-type=\"{{meta}}\">\n  <\/div>\n  <div class=\"form-group\">\n    <label for=\"pageTags\">Story Tags<\/label>\n    <tags-input id=\"pageTags\" ng-model=\"companySettings.tags\">\n      <auto-complete\n              source=\"loadTags($query)\"\n              min-length=\"0\"\n              load-on-empty=\"true\"\n              load-on-focus=\"true\"\n              select-first-match=\"false\"\n      ><\/auto-complete>\n    <\/tags-input>\n  <\/div>\n<\/form>\n\n\n\n<style>\n  \/* -- Page specifict positioning for autocomplete -- *\/\n  tags-input .autocomplete {\n    position: absolute;\n    bottom: 4.0rem;\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);\n  }\n\n\n  span.form-control:empty:before {\n    content: \"\\200b\";\n  }\n\n  \/*[meta-element] {\n    margin: 3rem 2.5rem;\n  }*\/\n\n<\/style>\n",
      "controller": [
        "$scope",
        "storyService",
        "metaTemplatesService",
        "settingsService",
        "toastr",
        null
      ],
      "bindings": {
        "storyObj": "="
      }
    }
  },
  {
    "module": "ellipsis.metaElement",
    "type": "directive",
    "name": "metaElement",
    "definition": {
      "replace": false
    }
  },
  {
    "module": "ellipsis.navHeader",
    "type": "directive",
    "name": "navHeader",
    "definition": {
      "restrict": "A",
      "replace": true,
      "template": "<nav class=\"navbar navbar-primary\">\n  <a class=\"navbar-logo\" href=\"\/dashboard\/\"><\/a>\n  <a class=\"navbar-brand\" href=\"\/ellipsis\/\">ellipsis<\/a>\n  <ul class=\"navbar-nav\">\n    <!--\n    <li class=\"nav-item>\n      <a class=\"nav-link\" ng-class=\"{ active: isActive('\/')} href=\"#\">My Stories<\/a>\n    <\/li>\n    <li class=\"nav-item>\n      <a class=\"nav-link\" ng-class=\"{ active: isActive('\/search')} href=\"#search\">Article Search<\/a>\n    <\/li>\n    <li class=\"nav-item>\n      <a class=\"nav-link\" ng-class=\"{ active: isActive('\/settings')} href=\"#settings\">Settings<\/a>\n    <\/li>\n    <li class=\"nav-item>\n      <a class=\"nav-link\" ng-class=\"{ active: isActive('\/users')} href=\"#users\">Users<\/a>\n    <\/li>\n    <li class=\"nav-item>\n      <a class=\"nav-link\" ng-class=\"{ active: isActive('\/preferfences')} href=\"#preferences\">Preferences<\/a>\n    <\/li>\n    <li class=\"nav-item>\n      <a class=\"nav-link\" ng-class=\"{ active: isActive('\/releaseNotes')} href=\"#releaseNotes\">Release Notes<\/a>\n    <\/li>\n    -->\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" href=\"#\">{{arcDisplayName}}<i class=\"fa fa-user-o\" aria-hidden=\"true\"><\/i><\/a>\n    <\/li>\n  <\/ul>\n<\/nav>\n",
      "controller": [
        "$scope",
        null
      ]
    }
  },
  {
    "module": "ellipsis.dateQuickPicker",
    "type": "directive",
    "name": "dateQuickPicker",
    "definition": {
      "restrict": "AE",
      "template": "<div class=\"ellipsis-date-quick-picker\">\n  <fieldset class=\"form-group row\">\n      <legend class=\"col-form-legend col\" ng-if=\"label\">{{label}}<\/legend>\n      <div class=\"col\">\n        <div class=\"form-check-inline\" ng-repeat=\"pick in dayPicks track by $index\">\n          <label class=\"form-check-label d-flex\">\n            <input type=\"radio\" class=\"form-check-input mr-1\" ng-click=\"pickDate(pick)\" name=\"{{btnGrp}}\">{{pick.display}}\n          <\/label>\n        <\/div>\n        <div class=\"form-check-inline\">\n          <label class=\"form-check-label d-flex\">\n            <input type=\"radio\" class=\"form-check-input mr-1\" ng-click=\"customDate($event)\" id=\"{{customBtnId}}\" name=\"{{btnGrp}}\">custom\n          <\/label>\n        <\/div>\n      <\/div>\n  <\/fieldset>\n  <div class=\"form-group\">\n    <input class=\"flatpickr form-control col-sm-4\" type=\"text\" ng-click=\"customDate()\" value=\"{{date.toString()}}\">\n  <\/div>\n<\/div>\n",
      "replace": true,
      "scope": {
        "date": "=",
        "label": "@"
      }
    }
  },
  {
    "module": "ellipsis.navActions",
    "type": "directive",
    "name": "navActions",
    "definition": {
      "restrict": "A",
      "replace": true,
      "template": "<menu class=\"navbar navbar-secondary\"> <!-- todo: adam: do we need a menu as the outer element? -->\n\n  <ul class=\"navbar-nav\">\n    <li class=\"nav-item\" id=\"btnSave\">\n      <a class=\"nav-link\" ng-click=\"save()\" data-toggle=\"tooltip\" title=\"save\">\n        <i class=\"fa fa-floppy-o\" aria-hidden=\"true\"><\/i>\n        <span class=\"sr-only\">save<\/span>\n      <\/a>\n    <\/li>\n    <li class=\"nav-item\" ng-show=\"previewURL.length\">\n      <a class=\"nav-link ng-binding\" ng-href=\"{{previewURL}}\" target=\"_blank\" data-toggle=\"tooltip\" title=\"save\">\n        <i class=\"fa fa-eye\" aria-hidden=\"true\"><\/i>\n        <span class=\"sr-only\">preview<\/span>\n      <\/a>\n    <\/li>\n    <li class=\"nav-item\" id=\"btnUndo\">\n      <a class=\"nav-link\" ng-click=\"undo()\" ng-disabled=\"!storyState.canUndo\" data-toggle=\"tooltip\" title=\"save\">\n        <i class=\"fa fa-rotate-left\" aria-hidden=\"true\"><\/i>\n        <span class=\"sr-only\">undo<\/span>\n      <\/a>\n    <\/li>\n    <li class=\"nav-item\" id=\"btnRedo\">\n      <a class=\"nav-link\" ng-click=\"redo()\" ng-disabled=\"!storyState.canRedo\" data-toggle=\"tooltip\" title=\"save\">\n        <span class=\"sr-only\">redo<\/span>\n        <i class=\"fa fa-rotate-right\" aria-hidden=\"true\"><\/i>\n      <\/a>\n    <\/li>\n  <\/ul>\n\n  <typography-buttons class=\"\"><\/typography-buttons>\n\n  <ul class=\"navbar-nav mx-2\">\n    <li class=\"nav-item\" ng-show=\"canDelete\" id=\"btnDelete\">\n      <a class=\"nav-link ng-binding\" data-toggle=\"modal\" data-target=\"#deleteModal\" data-toggle=\"tooltip\" title=\"delete\">\n        <i class=\"fa fa-trash-o\" aria-hidden=\"true\"><\/i>\n        <span class=\"sr-only\">delete<\/span>\n      <\/a>\n    <\/li>\n  <\/ul>\n\n<\/menu>\n",
      "controller": [
        "$scope",
        null
      ]
    }
  },
  {
    "module": "ellipsis.headline",
    "type": "directive",
    "name": "headline",
    "definition": {
      "restrict": "A",
      "replace": false,
      "template": "<div class=\"headlines-section\" ng-class=\"{'show-all-headlines': openHeadlines}\">\n  <button \n    class=\"btn btn-default btn-show-headlines pull-right\" \n    title=\"See All Headlines\" \n    ng-click=\"openHeadlines=!openHeadlines\">\n      <span>View All<\/span>\n      <span>Hide All<\/span>\n  <\/button>\n  <div class=\"basic-headlines\">\n    <h1 id=\"headline\"\n      data-placeholder=\"Enter Your Headline\"\n      title=\"Main Headline\"\n      tabindex=\"1\"\n      ng-model=\"story.headlines.basic\"\n      ng-bind-html=\"story.headlines.basic\"\n      contenteditablebind contenteditable=\"true\"><\/h1>\n    <h2 id=\"subheadline\"\n      data-placeholder=\"Enter Your Sub Headline\"\n      title=\"Sub Headline\"\n      tabindex=\"2\"\n      ng-model=\"story.subheadlines.basic\"\n      ng-bind-html=\"story.subheadlines.basic\"\n      contenteditablebind contenteditable=\"true\"><\/h2>\n  <\/div>\n\n  <form class=\"all-headlines\">\n    <div class=\"form-group\" ng-repeat=\"(headline, value) in story.headlines\">\n      <label for=\"headline-{{headline}}\">{{headline}}<\/label>\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        id=\"headline-{{headline}}\"\n        placeholder=\"\"\n        ng-value=\"value\"\n        ng-model=\"story.headlines[headline]\" \/>\n    <\/div>\n  <\/form>\n<\/div>\n\n<style>\n.headlines-section .btn-show-headlines > span:first-child {\n  display: inline;\n}\n.headlines-section .btn-show-headlines > span + span {\n  display: none;\n}\n.headlines-section .all-headlines {\n  display: none;\n}\n.headlines-section.show-all-headlines .basic-headlines {\n  display: none;\n}\n.headlines-section.show-all-headlines .btn-show-headlines > span:first-child {\n  display: none;\n}\n.headlines-section.show-all-headlines .btn-show-headlines > span + span {\n  display: inline;\n}\n.headlines-section.show-all-headlines .all-headlines {\n  display: block;\n}\n.all-headlines > *:first-child { margin-top: 20px }\n<\/style>\n",
      "controller": [
        "$scope",
        null
      ]
    }
  },
  {
    "module": "ellipsis.promoBody",
    "type": "directive",
    "name": "promoBody",
    "definition": {
      "restrict": "A",
      "replace": false,
      "template": "\n  <h3>Promo Items<\/h3>\n  <div class=\"card\" ng-repeat=\"(section, value) in story.promo_items\">\n    <!-- image cap -->\n    <img\n      class=\"card-img-top img-fluid\"\n      ng-show=\"value.additional_properties.proxyUrl || value.url\"\n      ng-src=\"{{value.additional_properties.proxyUrl || value.url}}\"\n      alt=\"promo image\">\n\n    <!-- card heading -->\n    <h3 class=\"card-title padding\">{{section}}<\/h3>\n\n    <!-- actions -->\n    <div class=\"card-block text-right\">\n      <a href=\"javascript:void(0);\" class=\"card-link\" ng-click=\"preview(value)\">\n        <i class=\"fa fa-eye\" aria-hidden=\"true\"><\/i>\n      <\/a>\n      <a href=\"javascript:void(0);\" class=\"card-link\" data-for=\"{{section}}\" class=\"btn btn-default\" ng-click=\"clearImage(section);\">\n        <i class=\"fa fa-trash-o\" aria-hidden=\"true\"><\/i>\n      <\/a>\n    <\/div>\n\n    <!-- properties form -->\n    <div class=\"card-block\">\n      <div class=\"card-text pt-2 text-muted\">\n\n        <div class=\"form-group\">\n          <label for=\"{{section}}-url\">Image-source<\/label>\n          <input type=\"hidden\" id=\"{{section}}-primg_name\" ng-model=\"value._id\" \/>\n          <div class=\"input-group\" >\n            <input type=\"text\" class=\"form-control\" id=\"{{section}}-url\" placeholder=\"http:\/\/www.example.com\/example.png\" ng-model=\"value.url\">\n            <span class=\"input-group-btn\"><button type=\"button\" data-for=\"{{section}}\" class=\"btn btn-default btnImageUrl\" ng-click=\"selectImage(section);\">Pick Image<\/button><\/span>\n          <\/div>\n        <\/div>\n\n        <div class=\"row\">\n          <div class=\"form-group col-md-6\" >\n            <label for=\"{{section}}-width\">Width<\/label>\n            <div class=\"input-group\">\n              <input type=\"number\" class=\"form-control\" id=\"{{section}}-width\" placeholder=\"{{phrases.width_placeholder}}\" ng-model=\"value.width\">\n              <span class=\"input-group-addon\">px<\/span>\n            <\/div>\n          <\/div>\n          <div class=\"form-group col-md-6\" >\n            <label for=\"{{section}}-height\">Height<\/label>\n            <div class=\"input-group\">\n              <input type=\"number\" class=\"form-control\" id=\"{{section}}-height\" placeholder=\"{{phrases.height_placeholder}}\" ng-model=\"value.height\">\n              <span class=\"input-group-addon\">px<\/span>\n            <\/div>\n          <\/div>\n        <\/div>\n\n        <div class=\"form-group\">\n          <label for=\"{{section}}-caption\">Caption<\/label>\n          <textarea type=\"text\" class=\"form-control\" id=\"{{section}}-caption\" placeholder=\"{{phrases.caption_placeholder}}\" ng-model=\"value.caption\"><\/textarea>\n        <\/div>\n        <div class=\"form-group\">\n          <label for=\"{{section}}-subtitle\">Subtitle<\/label>\n          <input type=\"text\" class=\"form-control\" id=\"{{section}}-subtitle\" placeholder=\"{{phrases.subtitle_placeholder}}\" ng-model=\"value.subtitle\">\n        <\/div>\n        <div class=\"form-group\">\n          <label for=\"{{section}}-copyright\">Copyright<\/label>\n          <input type=\"text\" class=\"form-control\" id=\"{{section}}-copyright\" placeholder=\"{{phrases.copyright_placeholder}}\" ng-model=\"value.copyright\">\n        <\/div>\n        <div class=\"form-group\">\n          <label for=\"{{section}}-created_date\">Created Date<\/label>\n          <input type=\"text\" calendar-control='{ \"enableTime\" : true}' class=\"form-control overrideReadonly\" id=\"{{section}}-created_date\" placeholder=\"{{phrases.created_date_placeholder}}\" ng-model=\"value.created_date\" ng-value=\"value.created_date | date:'medium'\">\n        <\/div>\n\n      <\/div>\n    <\/div>\n\n  <\/div>\n\n\n\n\n<style>\n\n\/* TODO SASS THIS *\/\n\n\/* dialog *\/\n  #dialog-thirdParty {\n      display: none;\n  }\n  #dialog-thirdParty iframe {\n    width: 100%;\n      height: 100%;\n  }\n\n  .cover {\n      position: absolute;\n      padding: 0;\n      margin: 0;\n      width: 100%;\n      height: 100px;\n      \/*opacity: .3;*\/\n      z-index: 1;\n  }\n\n  [data-type=\"oembed_response\"] {\n    position: relative;\n  }\n\n  [data-type=\"oembed_response\"] iframe {\n    border: 0;\n  }\n\n<\/style>\n",
      "controller": [
        "$scope",
        "$q",
        "metaTemplatesService",
        "storyService",
        "thirdPartyIntegrationService",
        null
      ]
    }
  },
  {
    "module": "ellipsis.planningBody",
    "type": "component",
    "name": "planningBody"
  },
  {
    "module": "ellipsis.planningBody",
    "type": "register",
    "name": "PlanningBodyController"
  },
  {
    "module": "ellipsis.planningBody",
    "type": "register",
    "name": "authorType"
  },
  {
    "module": "ellipsis.relatedItems",
    "type": "directive",
    "name": "relatedItems",
    "definition": {
      "restrict": "AE",
      "replace": false,
      "template": "<h3>Related Items<\/h3>\n<p>What type of content do you want to add?<\/p>\n<div class=\"form-group related-btn-group\" role=\"group\" aria-label=\"{{phrases.add_related_content}}\">\n  <button type=\"button\" class=\"btn btn-default addRelatedContent\" ng-click=\"addRelatedContent('story')\">Add Story<\/button>\n  <button type=\"button\" class=\"btn btn-default addRelatedContent\" ng-click=\"addRelatedContent('image')\">Add Image<\/button>\n  <button type=\"button\" class=\"btn btn-default addRelatedContent\" ng-click=\"addRelatedContent('gallery')\">Add Gallery<\/button>\n  <button type=\"button\" class=\"btn btn-default addRelatedContent\" ng-click=\"addRelatedContent('video')\">Add Video<\/button>\n<\/div>\n\n<div ng-repeat=\"(groupKey, groupItems) in relatedContentGroups\">\n  <h4>{{groupKey}}\n    <btn class=\"pull-right\" data-toggle=\"collapse\" href=\"#collapse-{{groupKey}}\" aria-expanded=\"true\">\n    <span class=\"caret\"><\/span>\n    <\/btn>\n  <\/h4>\n  <ul class=\"form-group list-group collapse in\" id=\"collapse-{{groupKey}}\">\n  <li ng-repeat=\"item in groupItems track by $index\" class=\"list-group-item\">\n       <div class=\"img\" ng-if=\"(item.type=='image' || item.type=='gallery' || item.type=='video')\">\n         <img style=\"width:200px\" ng-src=\"{{item.promo_items.basic.additional_properties.proxyUrl || item.content_elements[0].additional_properties.proxyUrl || item.content_elements[0].url || item.promo_items.basic.url || item.additional_properties.coverPhoto.url}}\"\/> <!-- TODO: FIgure out which ones are outdatted for the services -->\n       <\/div>\n       <p ng-if=\"!(item.type=='image' || item.type=='gallery' || item.type=='video')\">{{item.headlines.basic || \"No Headline\"}}<\/p>\n       <div class=\"choices clearfix\">\n         <div class=\"btn-group pull-right\">\n           <a href=\"{{item.canonical_url}}\"\n              class=\"disabled btn btn-default\"\n              title=\"Preview\"\n              ng-click=\"preview(item)\">\n                <i class=\"fa fa-eye\" aria-hidden=\"true\"><\/i><\/a>\n           <a class=\"removeRelatedItem btn btn-default\"\n              data-id=\"{{item._id}}\"\n              title=\"Remove Related Item\"\n              ng-click=\"delete(item._id)\">\n              <i class=\"fa fa-trash-o\" aria-hidden=\"true\"><\/i><\/a>\n         <\/div>\n       <\/div>\n     <\/li>\n\n  <\/ul>\n\n<\/div>\n",
      "controller": [
        "$scope",
        "storeService",
        null
      ]
    }
  },
  {
    "module": "ellipsis.revisions",
    "type": "directive",
    "name": "revisions",
    "definition": {
      "restrict": "A",
      "replace": false,
      "template": "<h3>Revision History<\/h3>\n<div class=\"list-group\">\n      <a ng-repeat=\"rev in revisions\" \n         ng-href=\"{{getStoryUrl(storyId, rev.revision.revision_id , $index)}}\" \n         class=\"list-group-item\">\n            <span class=\"date\">{{ rev.last_updated_date | date: 'short' }}<\/span>\n            <span class=\"who\">{{rev.revision.user_id || 'Unknown'}}<\/span>            \n            <ol class=\"pub-hist\" ng-show=\"rev.pubHistory\">\n                  <li ng-repeat=\"pub in rev.pubHistory\">\n                      <span class=\"pub\" ng-show=\"pub.publish_date\">\n                        Published : {{ pub.publish_date | date:'short' }} - {{pub.user_id || pub.revision.user_id}}<\/span>\n                      <span class=\"unpub\" ng-show=\"pub.unpublish_date\">\n                        Unpublished : {{ pub.unpublish_date | date:'short' }} - {{pub.user_id || pub.revision.user_id}}<\/span>\n                  <\/li>\n            <\/ol>\n      <\/a>\n<\/div>\n\n<style>\n\n      .pub-hist {\n            border-top: 1px solid #CCC;\n      }\n\n      .pub-hist {\n            list-style-type: none;\n            margin: 0;\n            padding-left: 0;\n      }\n\n      .pub-hist li {\n            padding: .5em;\n            margin: 0;\n      }\n\n<\/style>\n",
      "controller": [
        "$scope",
        null
      ]
    }
  },
  {
    "module": "ellipsis.searchResults",
    "type": "component",
    "name": "searchResults"
  },
  {
    "module": "ellipsis.searchFilters",
    "type": "component",
    "name": "searchFilters"
  },
  {
    "module": "ellipsis.toolbox",
    "type": "directive",
    "name": "toolbox",
    "definition": {
      "restrict": "A",
      "replace": false,
      "template": "<h3>add item<\/h3>\n<p class=\"text-muted\">Drag and drop the element you want to add\nto the document, or click the \"+\" icon to\nadd the element to the current cursor position.<\/p>\n<h3>all<\/h3>\n<form class=\"py-2\">\n  <div class=\"input-group\">\n    <span class=\"input-group-addon\">\n      <i class=\"fa fa-search text-primary\" aria-hidden=\"true\"><\/i>\n    <\/span>\n    <input type=\"search\" class=\"form-control border-left-0 pl-0\" placeholder=\"Search\" ng-model=\"tb_filter\"\/>\n  <\/div>\n<\/form>\n<p>{{tb_filter}}<\/p>\n<div id=\"tools-list\" class=\"list-group\">\n  <a ng-repeat=\"tool in toolboxItems\"\n      ng-hide=\"tb_filter.length && (tool.type.indexOf(tb_filter.toLowerCase())===-1 && tool.text.indexOf(tb_filter.toLowerCase())===-1)\"\n      data-type=\"{{tool.type}}\"\n      class=\"list-group-item list-group-item-action\">\n    <i class=\"fa fa-{{tool.icon}} mr-2\" aria-hidden=\"true\"><\/i>\n    {{tool.text}}\n    <i class=\"fa fa-plus-circle ml-auto\" aria-hidden=\"true\" ng-mousedown=\"addItem($event, tool.type)\"><\/i>\n  <\/a>\n<\/div>\n",
      "controller": [
        "$scope",
        null
      ]
    }
  },
  {
    "module": "ellipsis.websked",
    "type": "directive",
    "name": "websked",
    "definition": {
      "restrict": "A",
      "replace": false,
      "template": "<div>Hello {{msga}} Hello<\/div>\n",
      "controller": [
        "$scope",
        null
      ]
    }
  },
  {
    "module": "ellipsis.storyBody",
    "type": "directive",
    "name": "storyBody",
    "definition": {
      "restrict": "AE",
      "template": "<div id=\"story-wrapper\">\n  <div\n    content-element\n    ng-keyup=\"keyupDelegate($event)\"\n    ng-click=\"clickDelegate($index)\"\n    ng-class=\"{'feature-focused': isCurrentFocus($index)}\"\n    ng-repeat=\"feature in story.content_elements\"\n    ng-model=\"feature\"\n    data-type=\"{{feature.type}}\"\n    data-org-index=\"{{$index}}\">\n    <span class='handles feature-menu' contenteditble='false' tab-index='-1'>  <!-- make this a directive -->\n      <button\n        class='handle btn btn-sm btn btn-secondary props'\n        title='Properties'\n        ng-show=\"hasProperties(feature.type)\"\n        data-toggle=\"modal\"\n        ng-click=\"showPropModal($index)\"\n        data-target=\"#property_{{$index}}\">\n          <i class=\"fa fa-cog\" aria-hidden=\"true\"><\/i>\n      <\/button>\n      <button class='handle btn btn-sm btn btn-secondary props' title='Preview' ng-click=\"openPreview(feature)\" ng-show=\"hasPreview(feature.type)\">\n        <i class=\"fa fa-eye\" aria-hidden=\"true\"><\/i>\n      <\/button>\n      <button class='handle move btn btn-secondary btn-sm btn' title='Drag Item'>\n          <i class=\"fa fa-arrows\" aria-hidden=\"true\"><\/i>\n      <\/button>\n      <button class='handle paste btn btn-secondary btn-sm btn' title='Move To Clipboard'>\n          <i class=\"fa fa-clipboard\" aria-hidden=\"true\"><\/i>\n      <\/button>\n      <button class='handle btn btn-sm btn-secondary delete' title='Delete'>\n          <i class=\"fa fa-trash-o\" aria-hidden=\"true\"><\/i>\n      <\/button>\n      <div hidden><\/div>\n      <div class=\"modal fade\"  id=\"property_{{$index}}\">\n        <div class=\"modal-dialog\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;<\/span>\n              <\/button>\n              <h5 class=\"modal-title\">{{feature.type}}<\/h5>\n            <\/div>\n            <div class=\"modal-body\" property-pane=\"{{feature}}\" ng-model=\"feature\">\n            <\/div>\n            <div class=\"modal-footer\">\n              <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Done<\/button>\n            <\/div>\n          <\/div>\n        <\/div>\n      <\/div>\n    <\/span>\n  <\/div>\n<\/div>\n<div id=\"word-counter\">Words: {{countWords()}} | Lines: {{countLines()}}<\/div>",
      "controller": [
        "$scope",
        "$rootScope",
        "$element",
        "contentTemplatesService",
        "storyService",
        "thirdPartyIntegrationService",
        null
      ],
      "bindings": {
        "storyObj": "="
      }
    }
  },
  {
    "module": "ellipsis.tabBar",
    "type": "component",
    "name": "tabBar"
  },
  {
    "module": "ellipsis.templateSelection",
    "type": "directive",
    "name": "templateSelection",
    "definition": {
      "restrict": "E",
      "replace": false,
      "template": "<div class=\"modal fade\" id=\"template-selection\">\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <div class=\"modal-content\">\n\n            <div class=\"modal-header\">\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;<\/span>\n                <\/button>\n                <h5 class=\"modal-title\">Pick a starting template<\/h5>\n            <\/div>\n\n            <div class=\"modal-body\">\n\n\n                <form class=\"col-md-6 pb-2\">\n                    <div class=\"input-group\">\n                        <span class=\"input-group-addon\">\n                            <i class=\"fa fa-search text-primary\" aria-hidden=\"true\"><\/i>\n                        <\/span>\n                        <input type=\"text\" class=\"form-control border-left-0 pl-0\" placeholder=\"Search\" ng-model=\"templateSearchFilter\"\/>\n                    <\/div>\n                <\/form>\n\n                <div class=\"card-deck\">\n\n                    <div class=\"card\"\n                      ng-repeat=\"item in story_templates\"\n                      ng-hide=\"templateSearchFilter && templateSearchFilter.length && item.title.toLowerCase().indexOf(templateSearchFilter.toLowerCase()) === -1\"> <!--TODO this hide! -->\n                        <div class=\"card-header\">\n                            {{item.title}}\n                        <\/div>\n                        <div class=\"card-block\">\n                            <p class=\"card-text\">{{item.description}}<\/p>\n                        <\/div>\n                        <div class=\"card-footer\">\n                            <label>\n                                <input type=\"radio\"\n                                  name=\"templateRadioSelection\"\n                                  id=\"item.id\"\n                                  ng-value=\"item.id\"\n                                  ng-model=\"$parent.selectedTemplateId\" \/>\n                                  {{item.id}}\n                              <\/label>\n                        <\/div>\n                    <\/div>  <!-- card -->\n\n                <\/div> <!-- card-deck -->\n\n            <\/div> <!--modal-body -->\n\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-secondary\"\n                  data-dismiss=\"modal\">Return<\/button>\n                <button type=\"button\" class=\"btn btn-primary\"\n                  ng-click=\"createStory()\"\n                  ng-disabled=\"!selectedTemplateId\"\n                  data-dismiss=\"modal\">Create Story<\/button>\n            <\/div> <!--modal-footer -->\n\n        <\/div> <!-- content -->\n    <\/div> <!-- modal-dialog -->\n<\/div> <!--modal -->\n\n\n\n\n\n<style>\n\n<\/style>\n",
      "controller": [
        "$scope",
        null
      ]
    }
  },
  {
    "module": "ellipsis.propertyPane",
    "type": "directive",
    "name": "propertyPane",
    "definition": {
      "replace": false,
      "require": "?ngModel"
    }
  },
  {
    "module": "ellipsis.deleteModal",
    "type": "directive",
    "name": "deleteModal",
    "definition": {
      "restrict": "E",
      "replace": false,
      "template": "<div>\n  <div class=\"modal fade\"  id=\"deleteModal\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;<\/span>\n          <\/button>\n          <h5 class=\"modal-title\">Delete the story<\/h5>\n        <\/div>\n        <div class=\"modal-body\">\n          <p>Delelting a story is permanent. Are you sure want to delete the story. \n             You can unpublish the story if you do not want to delete it permanently.<\/p>\n        <\/div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-link\" data-dismiss=\"modal\">Cancel<\/button>\n          <button type=\"button\" class=\"btn btn-danger\" ng-click=\"deleteStory()\" ng-show=\"canDelete\">Delete<\/button>\n        <\/div>\n      <\/div>\n    <\/div>\n  <\/div>\n\n  <div class=\"modal fade\" id=\"deleteSuccessModal\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;<\/span>\n          <\/button>\n          <h5 class=\"modal-title\">Delete successful<\/h5>\n        <\/div>\n        <div class=\"modal-body\">\n          <p>The story was deleted.<\/p>\n        <\/div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-success\" ng-click=\"gotoSearch()\" data-dismiss=\"modal\">OK<\/button>\n        <\/div>\n      <\/div>\n    <\/div>\n  <\/div>\n<\/div>",
      "controller": [
        "$scope",
        "storyService",
        null
      ]
    }
  },
  {
    "module": "ellipsis.publishActions",
    "type": "directive",
    "name": "publishActions",
    "definition": {
      "restrict": "A",
      "replace": false,
      "template": "<form>\n  <div class=\"form-group\" ng-show=\"scheduled_state.isScheduledPublish\">\n    <label for=\"display-date\">scheduled publish date<\/label>\n    <p class=\"text-muted\">{{scheduled_state.scheduled_publish_date | date:'medium'}}<\/p>\n  <\/div>\n  <div class=\"form-group\" ng-show=\"publish_state.isPublished\">\n    <label for=\"display-date\">last published<\/label>\n    <p class=\"text-muted\">{{publish_state.publishedDate | date:'medium'}}<\/p>\n  <\/div>\n  <div class=\"row align-items-center\">\n    <div\n      ng-hide=\"(publish_state.isPublished || scheduled_state.isScheduledPublish) && (publish_state.isPublished != scheduled_state.isScheduledPublish)\"\n      class=\"col-5 mr-2\">&nbsp;<\/div>\n    <button\n      type=\"button\"\n      data-toggle=\"modal\"\n      data-target=\"#unpublishModal\"\n      ng-show=\"publish_state.isPublished\"\n      class=\"col-5 btn btn-danger mr-2\">unpublish<\/button>\n    <button\n      type=\"button\"\n      data-toggle=\"modal\"\n      data-target=\"#unscheduleModal\"\n      ng-show=\"scheduled_state.isScheduledPublish\"\n      class=\"col-5 btn btn-danger mr-2\">unschedule<\/button>\n    <button\n      type=\"button\"\n      data-toggle=\"modal\"\n      data-target=\"#publishModal\"\n      ng-disabled=\"!isStoryValidForPublish()\"\n      data-toggle=\"tooltip\"\n      title=\"{{publishDisabledMsg}}\"\n      class=\"col-5 btn btn-success\">publish<\/button>\n  <\/div>\n<\/form>\n\n<div class=\"modal fade\" id=\"publishModal\" xng-show=\"auth.story.publish\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;<\/span>\n        <\/button>\n        <h5 class=\"modal-title\">Publish Story<\/h5>\n      <\/div>\n      <div class=\"modal-body\">\n        <p>Select the version you wish to publish. If you want to schedule the story to be published\n          at a specific time, than pick a date. If not, leave the field blank.<\/p>\n\n        <div class=\"form-group\">\n          <label for=\"pub_revision\">Revision<\/label>\n          <select\n            class=\"form-control\"\n            id=\"pub_revision\"\n            ng-model=\"publishDetails.revision_id\">\n            <option\n              ng-repeat=\"option in revisionDropdownOptions\"\n              ng-value=\"option.revision_id\"\n              ng-bind-html=\"option.date + option.publishedInfo\">\n            <\/option>\n          <\/select>\n        <\/div>\n\n        <div class=\"form-group\" ng-show=\"canSchedule()\">\n          <label for=\"pub_sch_date\">Schedule Date<\/label>\n          <div class=\"input-group\">\n            <input\n              type=\"text\"\n              class=\"form-control date overrideReadonly\"\n              id=\"pub_sch_date\"\n              ng-model=\"publishDetails.scheduleDateTime\"\n              calendar-control='{ \"limitDate\": \"future\", \"enableTime\" : true}' \/>\n            <button class=\"input-group-addon btn btn-secondary\"\n              ng-show=\"story.planning.planned_publish_date\"\n              ng-click=\"publishDetails.scheduleDateTime=story.planning.planned_publish_date\"\n              >Use Planning Date<\/button>\n            <a class=\"input-group-addon clear\" ng-disabled=\"!publishDetails.schedule_date\">\n              <i class=\"fa fa-close text-muted\" ng-click=\"publishDetails.scheduleDateTime = null;\"><\/i>\n            <\/a>\n          <\/div>\n        <\/div>\n\n\n        <div class=\"form-group\">\n\n          <label class=\"form-check-label\" for=\"pub_cb_disp_date\">\n            <input class=\"form-check-input\"\n              type=\"checkbox\"\n              id=\"pub_cb_disp_date\"\n              ng-model=\"publishDetails.setDisplayDate\"\n              ng-checked=\"publishDetails.setDisplayDate\" \/>\n            <span>&nbsp;Set Display Date<\/span>\n          <\/label>\n          <div class=\"input-group\">\n            <input\n              type=\"text\"\n              class=\"form-control date overrideReadonly\"\n              id=\"pub_update_disp_date\"\n              ng-disabled=\"!publishDetails.setDisplayDate\"\n              ng-model=\"publishDetails.display_date\"\n              calendar-control='{ \"enableTime\" : true}' \/>\n            <a class=\"input-group-addon clear\" ng-disabled=\"!publishDetails.schedule_date\">\n              <i class=\"fa fa-close text-muted\" ng-click=\"publishDetails.schedule_date = null;\"><\/i>\n            <\/a>\n          <\/div>\n        <\/div>\n\n      <\/div>\n      <div class=\"modal-footer\">\n        <button\n          type=\"button\"\n          class=\"btn btn-link\"\n          data-dismiss=\"modal\">Cancel<\/button>\n        <button\n          type=\"button\"\n          class=\"btn btn-primary\"\n          ng-click=\"publish()\"\n          data-dismiss=\"modal\"\n          ng-disabled=\"!publishDetails.revision_id\"\n          ng-hide=\"publishDetails.scheduleDateTime.length\">Publish<\/button>\n        <button\n          type=\"button\"\n          class=\"btn btn-primary\"\n          ng-click=\"schedulePublish()\"\n          data-dismiss=\"modal\"\n          ng-disabled=\"!publishDetails.revision_id\"\n          ng-show=\"publishDetails.scheduleDateTime.length\">Schedule Publish<\/button>\n      <\/div>\n    <\/div>\n  <\/div>\n<\/div>\n\n\n<div class=\"modal fade\" id=\"unpublishModal\" xng-show=\"auth.story.publish\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;<\/span>\n        <\/button>\n        <h5 class=\"modal-title\">Unpublish Story<\/h5>\n      <\/div>\n      <div class=\"modal-body\">\n\n        <p>You are about to unpublish the story.<\/p>\n\n      <\/div>\n      <div class=\"modal-footer\">\n        <button\n          type=\"button\"\n          class=\"btn btn-link\"\n          data-dismiss=\"modal\">Cancel<\/button>\n        <button\n          type=\"button\"\n          class=\"btn btn-danger\"\n          ng-click=\"unpublish()\"\n          data-dismiss=\"modal\">Unpublish<\/button>\n      <\/div>\n    <\/div>\n  <\/div>\n<\/div>\n\n<div class=\"modal fade\" id=\"unscheduleModal\" xng-show=\"auth.story.publish\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;<\/span>\n        <\/button>\n        <h5 class=\"modal-title\">Unpublish Story<\/h5>\n      <\/div>\n      <div class=\"modal-body\">\n        <p>You are about to unschedule the story from being published.<\/p>\n      <\/div>\n      <div class=\"modal-footer\">\n        <button\n          type=\"button\"\n          class=\"btn btn-link\"\n          data-dismiss=\"modal\">Cancel<\/button>\n        <button\n          type=\"button\"\n          class=\"btn btn-danger\"\n          ng-click=\"unpublish()\"\n          data-dismiss=\"modal\">Unschedule<\/button>\n      <\/div>\n    <\/div>\n  <\/div>\n<\/div>\n\n\n<!--\n\n      <div class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" id=\"unscheduleModal\">\n        <div class=\"modal-dialog\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;<\/span><\/button>\n              <h4 class=\"modal-title\">{{phrases.modal_unschedule.title}}<\/h4>\n            <\/div>\n            <div class=\"modal-body\">\n              <p>{{phrases.modal_unschedule.description}}<\/p>\n              <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">{{phrases.modal_unschedule.button_cancel}}<\/button>\n                <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\" id=\"btnUnscheduleStory\">{{phrases.modal_unschedule.button_unschedule}}<\/button>\n              <\/div>\n            <\/div>\n          <\/div>\n        <\/div>\n      <\/div>\n\n-->\n\n<style>\nhtml body .flatpickr-calendar {\n  z-index: 5000;\n}\n\n.form-control[readonly].overrideReadonly {\n  background-color: #fff;\n}\n\n.form-control[readonly].overrideReadonly + .clear {\n  cursor: pointer;\n}\n\n.form-control[readonly].overrideReadonly:disabled {\n  background-color: #efeeef;\n}\n\n.form-control[readonly].overrideReadonly:disabled + .clear {\n  opacity: .5;\n  cursor: not-allowed;\n}\n\n<\/style>\n",
      "controller": [
        "$scope",
        "contentTemplatesService",
        null
      ]
    }
  },
  {
    "module": "ellipsis.lockKnock",
    "type": "directive",
    "name": "lockKnock",
    "definition": {
      "restrict": "A",
      "replace": true,
      "template": "<div class=\"row border-bottom\" ng-hide=\"lockDetails.isMyLock && activeKnocks.length==0\">\n\n  <div class=\"col py-2\">\n\n    <form ng-hide=\"lockDetails.isMyLock\">\n      <div class=\"form-group\">\n        <h3>Story locked by:<\/h3>\n        <label class=\"\">{{lockDetails.lockedBy}}<\/label>\n      <\/div>\n      <div class=\"row align-items-center\">\n        <button\n          type=\"button\"\n          data-toggle=\"modal\"\n          data-target=\"#knockModal\"\n          ng-click=\"knock()\"\n          class=\"col-5 btn btn-primary mr-2\">knock<\/button>\n        <button\n          type=\"button\"\n          data-toggle=\"modal\"\n          data-target=\"#forceModal\"\n          ng-click=\"force()\"\n          class=\"col-5 btn btn-danger\">force<\/button>\n      <\/div>\n    <\/form>\n\n    <form ng-show=\"activeKnocks.length>0\">\n        <h5>Knock Requests<\/h5>\n        <p>Another person wants to take control of this story.<\/p>\n        <div class=\"form-group\" ng-repeat=\"knock in activeKnocks\">\n          <h6>{{knock.user_name}}<\/h6>\n          <button\n            type=\"button\"\n            ng-click=\"denyKnock(knock.user_id)\"\n            class=\"col-5 btn btn-danger mr-2\">Deny<\/button>\n          <button\n            type=\"button\"\n            ng-click=\"acceptKnock(knock.user_id, knock.user_name)\"\n            class=\"col-5 btn btn-primary\">Allow<\/button>\n          <\/div>\n    <\/form>\n\n    <div class=\"modal fade\" id=\"knockModal\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;<\/span>\n            <\/button>\n            <h5 class=\"modal-title\">Requesting To Unlock<\/h5>\n          <\/div>\n          <div class=\"modal-body\" ng-hide=\"knockDenied\">\n            <p>We are currently asking user to unlock the story.<\/p>\n          <\/div>\n          <div class=\"modal-body\" ng-show=\"knockDenied\">\n            <p><i class=\"fa fa-exclamation-triangle fa-3\" aria-hidden=\"true\"><\/i> The user denied your knock request.<\/p>\n          <\/div>\n          <div class=\"modal-footer\">\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              ng-hide=\"knockDenied\"\n              data-dismiss=\"modal\"\n              ng-click=\"cancelKnock()\">Cancel Request<\/button>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              ng-show=\"knockDenied\"\n              data-dismiss=\"modal\">Close<\/button>\n          <\/div>\n        <\/div>\n      <\/div>\n    <\/div>\n\n    <div class=\"modal fade\" id=\"forceModal\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;<\/span>\n            <\/button>\n            <h5 class=\"modal-title\">Obtaining Lock<\/h5>\n          <\/div>\n          <div class=\"modal-body\">\n            <p>Please wait while we get you the lock.<\/p>\n          <\/div>\n        <\/div>\n      <\/div>\n    <\/div>\n\n  <\/div>\n\n  <!-- Menu Controls -->\n  <div class=\"nav-controls\">\n    <ul class=\"nav pt-2\">\n      <li class=\"nav-item\">\n        <a class=\"nav-link active\">\n          <i class=\"fa fa-lock\" style=\"font-size: 2.8rem;\" aria-hidden=\"true\"><\/i>\n        <\/a>\n      <\/li>\n    <\/ul>\n  <\/div>\n\n<\/div>\n",
      "controller": [
        "$scope",
        null
      ]
    }
  },
  {
    "module": "ellipsis.typographyButtons",
    "type": "directive",
    "name": "typographyButtons",
    "definition": {
      "restrict": "E",
      "replace": true,
      "template": "<nav class=\"navbar-nav mx-2\">\n  <div class=\"button-group btn-group-sm\">\n    <button\n      ng-repeat=\"btn in typographyButtons\"\n      class=\"btn btn-secondary\"\n      type=\"button\"\n      data-toggle=\"tooltip\"\n      title=\"{{btn.tooltip}}\"\n      ng-mousedown=\"performAction($event, btn)\">\n      <i class=\"fa {{btn.icon}}\" aria-hidden=\"true\"><\/i>\n      <span class=\"sr-only\">{{btn.tooltip}}<\/span>\n    <\/button>\n  <\/div>\n<\/nav>\n",
      "controller": [
        "$scope",
        null
      ]
    }
  }
]
